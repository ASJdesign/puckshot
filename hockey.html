<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Puckshot — v0.3.2</title>
<style>
  :root{--bg:#0b1e2d;--ink:#e6f2ff;--panel:rgba(0,0,0,.45)}
  html,body{height:100%;margin:0;background:var(--bg);color:var(--ink);font-family:system-ui,-apple-system,Segoe UI,Roboto,sans-serif}
  #stage{display:block;width:100vw;height:100vh;cursor:none}
  #topbar{position:fixed;left:12px;top:12px;display:flex;gap:8px;align-items:center;z-index:20}
  .btn{background:var(--panel);border:1px solid rgba(255,255,255,.15);border-radius:10px;padding:8px 12px;color:var(--ink);cursor:pointer}
  .pill{background:var(--panel);border:1px solid rgba(255,255,255,.12);border-radius:999px;padding:6px 10px;font-size:12px}
  #hud{position:fixed;right:10px;top:10px;background:var(--panel);padding:8px 10px;border-radius:10px;font-size:12px;line-height:1.4;z-index:20}
  #overlay{position:fixed;inset:0;display:grid;place-items:center;background:linear-gradient(180deg,rgba(0,0,0,.55),rgba(0,0,0,.65));z-index:30}
  #startBtn{font-size:18px;padding:12px 18px;border-radius:12px;background:#19b36b;color:#042015;border:none;cursor:pointer;box-shadow:0 8px 24px rgba(0,0,0,.4)}
  #goalBanner{position:fixed;inset:0;display:none;align-items:center;justify-content:center;pointer-events:none;z-index:25}
  #goalBanner .text{font-size:64px;font-weight:800;letter-spacing:2px;color:#fff;text-shadow:0 4px 24px rgba(0,0,0,.6)}
  #penaltyBanner{position:fixed;inset:0;display:none;align-items:center;justify-content:center;pointer-events:none;z-index:26;
    font-weight:900;font-size:72px;letter-spacing:2px;color:#ffefef;text-shadow:0 6px 28px rgba(0,0,0,.65)}
</style>
</head>
<body>
  <div id="topbar">
    <button id="pauseBtn" class="btn">⏸︎ Pause</button>
    <span class="pill">Level <span id="levelNo">0</span> / 20</span>
    <span class="pill">Seed: <span id="seedText"></span></span>
  </div>

  <div id="hud">
    <div>Level Time: <span id="levelTime">0.00</span>s</div>
    <div>Total Time: <span id="totalTime">0.00</span>s</div>
    <div>Speed: <span id="spd">0.00</span> px/s • Spin: <span id="spinDbg">0.00</span> rad/s</div>
    <div id="penHUD">Penalties: 0</div>
  </div>

  <div id="overlay"><button id="startBtn">Start</button></div>
  <div id="goalBanner"><div class="text">GOAL!</div></div>
  <div id="penaltyBanner">PENALTY</div>
  <canvas id="stage"></canvas>

<script>
(() => {
  const can = document.getElementById('stage');
  const g = can.getContext('2d');
  const dpr = Math.max(1, window.devicePixelRatio || 1);
  const resize = ()=>{ can.width = Math.floor(innerWidth*dpr); can.height = Math.floor(innerHeight*dpr); g.setTransform(dpr,0,0,dpr,0,0); };
  addEventListener('resize', resize); resize();

  function xmur3(str){let h=1779033703^str.length;for(let i=0;i<str.length;i++){h=Math.imul(h^str.charCodeAt(i),3432918353);h=h<<13|h>>>19;}return function(){h=Math.imul(h^h>>>16,2246822507);h=Math.imul(h^h>>>13,3266489909);return (h^h>>>16)>>>0;}}
  function sfc32(a,b,c,d
